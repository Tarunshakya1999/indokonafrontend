import React, { useEffect, useState, useRef } from "react";
import AOS from "aos";
import "aos/dist/aos.css";
import "bootstrap/dist/css/bootstrap.min.css";

/**
 * AcademyPage.jsx
 * - Uses Bootstrap for layout & styling
 * - Initializes AOS with once: false
 * - Shows sequential fake purchase popups (toasts)
 */

const fakePurchases = [
  {
    name: "Ravi",
    city: "Pune",
    course: "Entrepreneurship & Business Launch Program",
  },
  {
    name: "Priya",
    city: "Lucknow",
    course: "Digital Marketing & Branding Mastery",
  },
  {
    name: "Amit",
    city: "Delhi",
    course: "AI Tools & Automation Skill Program",
  },
  {
    name: "Neha",
    city: "Mumbai",
    course: "Content Creation & Social Media Monetization",
  },
];

const AcademyPage = () => {
  const [toasts, setToasts] = useState([]);
  const toastIndex = useRef(0);
  const toastTimer = useRef(null);

  useEffect(() => {
    // Initialize AOS
    AOS.init({
      duration: 700,
      easing: "ease-out-cubic",
      once: false,
      mirror: false,
    });

    // Start showing fake popups one by one
    toastTimer.current = setInterval(() => {
      if (toastIndex.current >= fakePurchases.length) {
        // restart cycle after a short pause (optional)
        toastIndex.current = 0;
      }
      const next = fakePurchases[toastIndex.current];
      showToast(next);
      toastIndex.current += 1;
    }, 10000); // every 10s show a new toast

    return () => {
      clearInterval(toastTimer.current);
    };
  }, []);

  const showToast = (data) => {
    const id = Date.now() + Math.random();
    setToasts((t) => [...t, { id, ...data }]);
    // auto remove after 3.6s
    setTimeout(() => {
      setToasts((t) => t.filter((x) => x.id !== id));
    }, 4600);
  };

  const closeToast = (id) => {
    setToasts((t) => t.filter((x) => x.id !== id));
  };

  return (
    <div
      style={{ background: "#f5f7fb", minHeight: "100vh", paddingBottom: 80 }}
    >
      {/* Hero */}
      <section
        className="container py-5"
        style={{
          transform: "translateZ(0)",
        }}
      >
        <div className="row align-items-center g-4">
          <div className="col-lg-6" data-aos="fade-right">
            <div
              className="card border-0 rounded-4 shadow-lg p-4"
              style={{ background: "linear-gradient(135deg,#ffffff,#f9fbff)" }}
            >
              <h1 className="display-5 fw-bold text-primary">
                ЁЯМР Indokona Idea to Empire Academy
              </h1>
              <p className="lead text-muted mb-3">
                <strong>ЁЯТб Transforming Every Idea into a Real Empire</strong>
                <br />
                Powered by Indokona Credit Bazar Pvt. Ltd.
              </p>

              <p className="mb-3">
                Indokona Idea to Empire Academy рдПрдХ visionary educational рдФрд░
                business development initiative рд╣реИ тАФ рдЬрд┐рд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рднрд╛рд░рдд рдХреЗ
                рдпреБрд╡рд╛рдУрдВ, рдорд╣рд┐рд▓рд╛рдУрдВ рдФрд░ professionals рдХреЛ digital age рдореЗрдВ self-made
                entrepreneur рдмрдирд╛рдирд╛ рд╣реИред
              </p>

              <a href="#programs" className="btn btn-primary rounded-pill me-3">
                Explore Programs
              </a>
              <a
                href="#contact"
                className="btn btn-outline-primary rounded-pill"
              >
                Contact
              </a>
            </div>
          </div>

          <div className="col-lg-6" data-aos="fade-left">
            <div
              className="rounded-4 overflow-hidden shadow-lg"
              style={{ background: "#0d6efd", color: "#fff", padding: 28 }}
            >
              <h4 className="fw-bold">Why join Indokona Academy?</h4>
              <ul className="list-unstyled mt-3">
                <li>тнР Trusted Division of Indokona Credit Bazar Pvt. Ltd.</li>
                <li>тнР 24x7 Mentor Support & Lifetime Learning Access</li>
                <li>тнР Real Projects тАФ Learn & Earn Model</li>
                <li>тнР Affordable & Practical Courses</li>
              </ul>
              <div className="mt-3">
                <small className="d-block">
                  ЁЯУЮ Helpline:{" "}
                  <a
                    href="tel:+919625995155"
                    className="text-decoration-none fw-bold text-light"
                    aria-label="Call helpline +91 96259 95155"
                  >
                    +91-96259-95155
                  </a>
                </small>

                <small>ЁЯУз indokonaoutsourcing@gmail.com</small>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* About & Mission */}
      <section className="container mb-5">
        <div className="row g-4">
          <div className="col-lg-8" data-aos="fade-up">
            <div className="card rounded-4 p-4 shadow-sm">
              <h3 className="fw-bold">
                ЁЯОп About the Academy / рдЕрдХрд╛рджрдореА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ
              </h3>
              <p>
                Indokona Idea to Empire Academy рдПрдХ visionary educational рдФрд░
                business development initiative рд╣реИ тАФ рдЬрд╣рд╛рдБ рд╣рд░ рд╡реНрдпрдХреНрддрд┐ рдЕрдкрдиреЗ idea,
                passion рдФрд░ skill рдХреЛ рдПрдХ successful empire рдореЗрдВ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ.
              </p>

              <blockquote className="blockquote ps-3 border-start border-3 border-primary">
                тАЬрд╣рд░ рд╡рд┐рдЪрд╛рд░ рдореЗрдВ рд╕рд╛рдореНрд░рд╛рдЬреНрдп рдмрдирдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИ тАФ рдмрд╕ рд╕рд╣реА рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдФрд░
                рдордВрдЪ рдЪрд╛рд╣рд┐рдПредтАЭ
              </blockquote>

              <h5 className="mt-4">ЁЯзн Our Mission / рд╣рдорд╛рд░рд╛ рдорд┐рд╢рди</h5>
              <p>
                рд╣рдорд╛рд░рд╛ рдЙрджреНрджреЗрд╢реНрдп рд╣реИ рднрд╛рд░рдд рдореЗрдВ 1 рд▓рд╛рдЦ+ рдпреБрд╡рд╛рдУрдВ рдХреЛ modern business,
                digital tools рдФрд░ creative strategies рдХреА training рджреЗрдХрд░
                financially independent рдмрдирд╛рдирд╛ред
              </p>
            </div>
          </div>

          <div className="col-lg-4" data-aos="zoom-in">
            <div className="card rounded-4 p-4 shadow-sm text-center">
              <h5 className="fw-bold">ЁЯПЖ Highlights</h5>
              <p className="mb-1">ЁЯЯв Lifetime Access</p>
              <p className="mb-1">ЁЯЯв Mentor Support</p>
              <p className="mb-1">ЁЯЯв Business Tools Included</p>
              <a
                href="#programs"
                className="btn btn-outline-primary mt-3 rounded-pill"
              >
                View Programs
              </a>
            </div>
          </div>
        </div>
      </section>

      {/* Programs */}
      <section id="programs" className="container mb-5">
        <h3 className="fw-bold mb-4" data-aos="fade-up">
          ЁЯЪА Our Core Programs / рд╣рдорд╛рд░реЗ рдкреНрд░рдореБрдЦ рдХреЛрд░реНрд╕
        </h3>
        <div className="row g-4">
          {[
            {
              title: "Entrepreneurship & Business Launch Program",
              desc: "Idea validation, business planning рдФрд░ legal setup guidance",
            },
            {
              title: "Digital Marketing & Branding Mastery",
              desc: "рдЕрдкрдиреЗ brand рдХреЛ build, promote рдФрд░ monetize рдХрд░рдирд╛ рд╕реАрдЦреЗрдВ",
            },
            {
              title: "AI Tools & Automation Skill Program",
              desc: "Artificial Intelligence рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ future-ready рдмрдиреЗрдВ",
            },
            {
              title: "Content Creation & Social Media Monetization",
              desc: "YouTube, Instagram рдФрд░ Facebook рд╕реЗ рдХрдорд╛рдИ рдХрд░рдирд╛ рд╕реАрдЦреЗрдВ",
            },
            {
              title: "Startup & Freelance Mentorship",
              desc: "Zero investment рд╕реЗ online business grow рдХрд░рдиреЗ рдХреА рдкреВрд░реА roadmap",
            },
            {
              title: "Certificate & Professional Courses",
              desc: "Entrepreneurship, Business Communication, рдФрд░ Marketing рдореЗрдВ рдкреНрд░рдорд╛рдгрд┐рдд рдХреЛрд░реНрд╕реЗрдЬ",
            },
          ].map((p, i) => (
            <div
              key={i}
              className="col-md-6 col-lg-4"
              data-aos="flip-left"
              data-aos-delay={i * 120}
            >
              <div className="card h-100 rounded-4 shadow-sm p-3">
                <div className="card-body">
                  <h6 className="fw-bold">{p.title}</h6>
                  <p className="text-muted small">{p.desc}</p>
                </div>
                <div className="card-footer bg-transparent border-0 pt-0">
                  <button className="btn btn-sm btn-primary rounded-pill w-100">
                    Enroll Now
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* Why Choose / Who can join */}
      <section className="container mb-5" data-aos="fade-up">
        <div className="row">
          <div className="col-md-6">
            <div className="card rounded-4 p-4 shadow-sm mb-4">
              <h5 className="fw-bold">ЁЯПЖ Why Choose Indokona Academy</h5>
              <ul className="mb-0">
                <li>Trusted Division of Indokona Credit Bazar Pvt. Ltd.</li>
                <li>24x7 Mentor Support & Lifetime Learning Access</li>
                <li>Affordable, Practical & Result-Oriented Courses</li>
                <li>Business Tools + Digital Marketing Kit Included</li>
              </ul>
            </div>
          </div>

          <div className="col-md-6">
            <div className="card rounded-4 p-4 shadow-sm mb-4">
              <h5 className="fw-bold">ЁЯСитАНЁЯОУ Who Can Join</h5>
              <ul className="mb-0">
                <li>Students looking for digital income sources</li>
                <li>Housewives & freelancers who want to work from home</li>
                <li>Business owners seeking online growth</li>
                <li>Anyone who wants to start their brand or company</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Testimonials */}
      <section className="container mb-5">
        <h3 className="fw-bold mb-4" data-aos="fade-up">
          ЁЯТм Testimonials
        </h3>
        <div className="row g-4">
          <div className="col-md-6" data-aos="fade-right">
            <div className="card rounded-4 p-4 shadow-sm">
              <p className="mb-1">
                тАЬIndokona Academy рдиреЗ рдореБрдЭреЗ freelancing рд╕реЗ тВ╣50,000 рдорд╣реАрдирд╛ рдХрдорд╛рдирд╛
                рд╕рд┐рдЦрд╛рдпрд╛ тАФ рдмреЗрд╣рдж practical trainingредтАЭ
              </p>
              <small className="text-muted">тАФ S. Khan, Lucknow</small>
            </div>
          </div>
          <div className="col-md-6" data-aos="fade-left">
            <div className="card rounded-4 p-4 shadow-sm">
              <p className="mb-1">
                тАЬрдореЗрд░реЗ YouTube channel рдХреЛ 3 рдорд╣реАрдиреЗ рдореЗрдВ monetize рдХрд░рд╛рдиреЗ рдореЗрдВ Indokona
                рдХреА guidance рдиреЗ рдмрд╣реБрдд рдорджрдж рдХреАредтАЭ
              </p>
              <small className="text-muted">тАФ A. Sharma, Delhi</small>
            </div>
          </div>
        </div>
      </section>

      {/* Contact & FAQ */}
      <section id="contact" className="container mb-5" data-aos="fade-up">
        <div className="row g-4">
          <div className="col-lg-6">
            <div className="card rounded-4 p-4 shadow-sm">
              <h5 className="fw-bold">ЁЯУЮ Contact Details</h5>
              <p className="mb-1">
                Website:{" "}
                <a
                  href="https://www.indokona.com/academy"
                  target="_blank"
                  rel="noreferrer"
                >
                  www.indokona.com/academy
                </a>
              </p>
              <p className="mb-1">Email: indokonaoutsourcing@gmail.com</p>
              <p className="mb-1">Helpline: +91-9625995155</p>
              <p className="mb-0">
                Head Office: Ismailpur, Faridabad, Haryana тАУ 121003
              </p>
            </div>
          </div>

          <div className="col-lg-6">
            <div className="card rounded-4 p-4 shadow-sm">
              <h5 className="fw-bold">ЁЯУЬ FAQs</h5>
              <div className="accordion" id="faqAccordion">
                <div className="accordion-item">
                  <h2 className="accordion-header" id="faqOne">
                    <button
                      className="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseOne"
                    >
                      Q1. Course Duration рдХрд┐рддрдирд╛ рд╣реЛрддрд╛ рд╣реИ?
                    </button>
                  </h2>
                  <div
                    id="collapseOne"
                    className="accordion-collapse collapse"
                    data-bs-parent="#faqAccordion"
                  >
                    <div className="accordion-body">
                      Programs 4 рд╕реЗ 12 рд╕рдкреНрддрд╛рд╣; рдХреБрдЫ advanced certifications 3-6
                      рдорд╣реАрдиреЗ рддрдХред
                    </div>
                  </div>
                </div>

                <div className="accordion-item">
                  <h2 className="accordion-header" id="faqTwo">
                    <button
                      className="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseTwo"
                    >
                      Q2. Certificate рдХреИрд╕реЗ рдорд┐рд▓реЗрдЧрд╛?
                    </button>
                  </h2>
                  <div
                    id="collapseTwo"
                    className="accordion-collapse collapse"
                    data-bs-parent="#faqAccordion"
                  >
                    <div className="accordion-body">
                      Course рдкреВрд░рд╛ рдХрд░рдиреЗ рдкрд░ digital certificate рдФрд░ project
                      verification рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред
                    </div>
                  </div>
                </div>

                <div className="accordion-item">
                  <h2 className="accordion-header" id="faqThree">
                    <button
                      className="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseThree"
                    >
                      Q3. рдХреНрдпрд╛ courses online рд╣реИрдВ?
                    </button>
                  </h2>
                  <div
                    id="collapseThree"
                    className="accordion-collapse collapse"
                    data-bs-parent="#faqAccordion"
                  >
                    <div className="accordion-body">
                      рд╣рд╛рдБ тАФ рд╕рднреА courses 100% online рд╣реИрдВ, mobile рдФрд░ laptop рджреЛрдиреЛрдВ
                      рд╕реЗ access рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-4">
        <div className="container text-center text-muted small">
          <div>
            ┬й {new Date().getFullYear()} Indokona Idea to Empire Academy |
            Powered by Indokona Credit Bazar Pvt. Ltd.
          </div>
          <div>
            Tagline: тАЬLearn. Build. Lead. тАФ Transform Your Idea into an Empire
            with Indokona Academy.тАЭ
          </div>
        </div>
      </footer>

      {/* Toasts / Fake popups container (top-right) */}
      <div style={{ position: "fixed", top: 20, right: 20, zIndex: 2000 }}>
        {toasts.map((t) => (
          <div
            key={t.id}
            className="toast show shadow-lg mb-2"
            role="alert"
            aria-live="assertive"
            aria-atomic="true"
            style={{ minWidth: 300, borderRadius: 12, overflow: "hidden" }}
            data-aos="zoom-in"
          >
            <div className="toast-header">
              <strong className="me-auto">ЁЯМР Indokona Academy</strong>
              <small className="text-muted">just now</small>
              <button
                type="button"
                className="btn-close ms-2 mb-1"
                onClick={() => closeToast(t.id)}
                aria-label="Close"
              ></button>
            </div>
            <div className="toast-body">
              <div>
                <strong>{t.name}</strong> purchased Our course from{" "}
                <strong>{t.city}</strong>
              </div>
              <div className="mt-2 small text-muted">Course: {t.course}</div>
            </div>
          </div>
        ))}
      </div>

      {/* Small inline styles for nicer look (optional) */}
      <style jsx>{`
        .card {
          border-radius: 14px !important;
        }
        .toast {
          background: linear-gradient(135deg, #ffffff, #f6fbff);
          border: 1px solid rgba(13, 110, 253, 0.08);
        }
        .btn-primary {
          box-shadow: 0 6px 18px rgba(13, 110, 253, 0.12);
        }
        .accordion-button {
          border-radius: 8px;
        }
      `}</style>
    </div>
  );
};

export default AcademyPage;
